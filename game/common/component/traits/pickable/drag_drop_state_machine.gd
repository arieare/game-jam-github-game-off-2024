extends class_state_machine
